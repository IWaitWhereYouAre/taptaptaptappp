<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Heart to Heart | ISA Chulalongkorn</title>

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,500;0,600;1,400;1,600&family=Fraunces:opsz,wght@9..144,400;9..144,600&family=Parisienne&display=swap');

    :root{
      --ink:#22222a;

      --blush:#f4d9e3;
      --sky:#dbe9ff;
      --sage:#dff0e8;

      --gold:#c8a35a;
      --gold2:#f3dfb3;

      --shadow: 0 28px 70px rgba(22, 18, 30, .22);
      --hairline: rgba(200,163,90,.58);

      --red:#b01d2a;
      --black:#1d2026;
    }

    *{ box-sizing:border-box; }
    html,body{ width:100%; height:100%; margin:0; }

    body{
      display:flex;
      align-items:center;
      justify-content:center;
      font-family:"Cormorant Garamond", serif;
      color:var(--ink);
      background:
        radial-gradient(900px 650px at 18% 12%, rgba(219,233,255,.95) 0%, rgba(219,233,255,0) 60%),
        radial-gradient(900px 650px at 82% 18%, rgba(244,217,227,.85) 0%, rgba(244,217,227,0) 62%),
        radial-gradient(900px 650px at 50% 92%, rgba(223,240,232,.88) 0%, rgba(223,240,232,0) 60%),
        linear-gradient(180deg, #fffaf1 0%, #f3ecdf 100%);
      overflow:hidden;
      position:relative;
    }

    /* dreamy dust */
    body::before{
      content:"";
      position:fixed;
      inset:-30%;
      pointer-events:none;
      background:
        radial-gradient(circle at 20% 20%, rgba(255,255,255,.55) 0 2px, transparent 3px),
        radial-gradient(circle at 70% 30%, rgba(255,255,255,.45) 0 2px, transparent 3px),
        radial-gradient(circle at 45% 70%, rgba(255,255,255,.40) 0 2px, transparent 3px),
        radial-gradient(circle at 85% 80%, rgba(255,255,255,.35) 0 2px, transparent 3px);
      opacity:.55;
      filter: blur(.2px);
      transform: rotate(-7deg);
      mix-blend-mode: screen;
    }

    /* subtle vignette */
    body::after{
      content:"";
      position:fixed;
      inset:0;
      pointer-events:none;
      background: radial-gradient(820px 540px at 50% 40%, transparent 56%, rgba(0,0,0,.09) 100%);
      opacity:.55;
    }

    /* =========================
       HEART BALLOON BACKGROUND (ลูกโป่งหัวใจ)
       ========================= */
    #heartBalloons{
      position:fixed;
      inset:0;
      pointer-events:none;
      overflow:hidden;
      z-index:0;
    }

    .heartBalloon{
      position:absolute;
      left:0; top:0;
      width: 44px;
      height: 44px;
      opacity: 0;
      will-change: transform, opacity;
      animation: floatHeartBalloon var(--dur, 7s) cubic-bezier(.2,.85,.2,1) forwards;
      filter: drop-shadow(0 14px 22px rgba(20,16,28,.16));
    }

    /* Heart shape via clip-path */
    .heartBalloon .hb{
      position:absolute;
      inset:0;
      border-radius: 14px;
      background:
        radial-gradient(18px 18px at 28% 24%, rgba(255,255,255,.78), rgba(255,255,255,0) 60%),
        radial-gradient(26px 22px at 38% 32%, rgba(255,255,255,.30), rgba(255,255,255,0) 68%),
        linear-gradient(180deg, rgba(255,255,255,.18), rgba(0,0,0,.06)),
        var(--c, rgba(243,223,179,.92));
      box-shadow:
        inset -10px -14px 20px rgba(0,0,0,.12),
        inset  10px  14px 22px rgba(255,255,255,.28);
      clip-path: path("M 22 40 C 22 40 3 28 3 16 C 3 8 9 4 14 4 C 18 4 21 6 22 8 C 23 6 26 4 30 4 C 35 4 41 8 41 16 C 41 28 22 40 22 40 Z");
      position:relative;
    }

    /* thin gold rim */
    .heartBalloon .hb::after{
      content:"";
      position:absolute;
      inset:-2px;
      clip-path: path("M 22 40 C 22 40 3 28 3 16 C 3 8 9 4 14 4 C 18 4 21 6 22 8 C 23 6 26 4 30 4 C 35 4 41 8 41 16 C 41 28 22 40 22 40 Z");
      border:1px solid rgba(200,163,90,.22);
      opacity:.6;
    }

    .knot{
      position:absolute;
      left:50%;
      bottom:-7px;
      transform: translateX(-50%) rotate(45deg);
      width: 9px;
      height: 9px;
      background: rgba(0,0,0,.10);
      border-radius: 2px;
      opacity:.65;
      mix-blend-mode:multiply;
    }

    .string{
      position:absolute;
      left:50%;
      bottom:-96px;
      transform: translateX(-50%);
      width:1px;
      height:92px;
      background: linear-gradient(180deg, rgba(40,38,46,.42), rgba(40,38,46,0));
      opacity:.32;
      filter: blur(.05px);
    }

    @keyframes floatHeartBalloon{
      0%{
        opacity: 0;
        transform: translate(var(--x, 0px), var(--y0, 40px)) scale(var(--s, 1)) rotate(var(--r0, -10deg));
      }
      10%{ opacity: .72; }
      60%{ opacity: .48; }
      100%{
        opacity: 0;
        transform: translate(calc(var(--x, 0px) + var(--drift, 40px)), var(--y1, -520px)) scale(calc(var(--s, 1) * 1.08)) rotate(var(--r1, 10deg));
      }
    }

    @media (prefers-reduced-motion: reduce){
      #heartBalloons{ display:none; }
    }

    /* =========================
       CARD (paper)
       ========================= */
    .manuscript{
      width:min(590px, 92vw);
      padding:54px 40px 44px;
      background: linear-gradient(180deg, rgba(255,255,255,.88), rgba(255,255,255,.78));
      border-radius:30px;
      box-shadow: var(--shadow);
      position:relative;
      text-align:center;
      overflow:hidden;
      backdrop-filter: blur(10px);
      z-index:1;
      transform: translateZ(0);
    }

    .manuscript::before{
      content:"";
      position:absolute;
      inset:-2px;
      pointer-events:none;
      background:
        radial-gradient(520px 300px at 18% 16%, rgba(61,107,85,.10), transparent 60%),
        radial-gradient(520px 300px at 82% 22%, rgba(200,163,90,.12), transparent 62%),
        repeating-linear-gradient(0deg, rgba(34,34,42,.014) 0px, rgba(34,34,42,.014) 1px, transparent 2px, transparent 7px);
      opacity:.86;
      mix-blend-mode:multiply;
    }

    .frame{
      position:absolute;
      inset:16px;
      border-radius:24px;
      border:1px solid rgba(200,163,90,.55);
      pointer-events:none;
      z-index:1;
    }
    .frame::after{
      content:"";
      position:absolute;
      inset:10px;
      border-radius:20px;
      border:1px solid rgba(35,66,55,.14);
    }

    /* =========================
       Alice-ish mini card corners
       ========================= */
    .pcorner{
      position:absolute;
      width:86px; height:86px;
      border-radius:18px;
      background: linear-gradient(180deg, rgba(255,255,255,.94), rgba(255,255,255,.72));
      border:1px solid rgba(0,0,0,.08);
      box-shadow: 0 14px 28px rgba(20,16,28,.12), inset 0 0 0 1px rgba(255,255,255,.65);
      pointer-events:none;
      z-index:2;
      overflow:hidden;
      transform: rotate(var(--rot, -4deg));
    }
    .pcorner::before{
      content:"";
      position:absolute;
      inset:10px;
      border-radius:14px;
      border:1px solid rgba(200,163,90,.30);
    }
    .pcorner::after{
      content: var(--wm, "♥");
      position:absolute;
      inset:0;
      display:grid;
      place-items:center;
      font-size:40px;
      opacity:.10;
      color: rgba(0,0,0,.55);
      transform: rotate(12deg);
    }
    .pcorner .rank{
      position:absolute;
      top:12px; left:12px;
      display:flex;
      flex-direction:column;
      gap:2px;
      font-family:"Fraunces", serif;
      font-weight:600;
      font-size:14px;
      line-height:1;
    }
    .pcorner .rank .suit{ font-size:14px; }
    .pcorner .centerSuit{
      position:absolute;
      inset:0;
      display:grid;
      place-items:center;
      font-size:28px;
      text-shadow: 0 1px 0 rgba(255,255,255,.6);
    }
    .p1{ top:10px; left:10px; --rot:-6deg; }
    .p2{ top:10px; right:10px; --rot:6deg; }
    .p3{ bottom:10px; left:10px; --rot:6deg; }
    .p4{ bottom:10px; right:10px; --rot:-6deg; }

    /* =========================
       Typography
       ========================= */
    .welcome{
      display:flex;
      align-items:center;
      justify-content:center;
      gap:12px;
      margin-bottom:16px;
      position:relative;
      z-index:3;
    }
    .welcome .line{
      height:1px;
      width: clamp(36px, 12vw, 92px);
      background:linear-gradient(90deg, transparent, rgba(200,163,90,.95), transparent);
      opacity:.95;
    }
    .welcome .text{
      font-style:italic;
      font-size:16px;
      color: rgba(34,34,42,.70);
      line-height:1.25;
      padding: 3px 12px;
      border-radius: 999px;
      background: rgba(255,255,255,.44);
      border: 1px solid rgba(200,163,90,.20);
      backdrop-filter: blur(6px);
    }
    .welcome .text strong{
      font-family:"Fraunces", serif;
      font-weight:600;
      letter-spacing:.08em;
      color:rgba(200,163,90,.95);
      font-style:normal;
    }

    h1{
      font-family:"Fraunces", serif;
      font-weight:600;
      margin:0;
      color: rgba(34,34,42,.92);
      position:relative;
      z-index:3;
      font-size: clamp(28px, 5.4vw, 38px);
    }

    .divider{
      height:1px;
      width:72%;
      margin:18px auto;
      background:linear-gradient(90deg, transparent, rgba(200,163,90,.98), transparent);
      position:relative;
      z-index:3;
    }

    .label{
      font-style:italic;
      margin-top:6px;
      font-size:18px;
      color: rgba(35,66,55,.84);
      position:relative;
      z-index:3;
    }

    .val{
      font-family:"Fraunces", serif;
      font-size: clamp(68px, 10.5vw, 92px);
      font-weight:600;
      background:linear-gradient(180deg, var(--gold2), var(--gold));
      -webkit-background-clip:text;
      background-clip:text;
      color:transparent;
      margin:10px 0 6px;
      position:relative;
      z-index:3;
      text-shadow: 0 10px 30px rgba(200,163,90,.14);
    }

    .target{
      margin: 10px auto 22px;
      font-size:16px;
      color: rgba(34,34,42,.74);
      max-width: 46ch;
      line-height:1.4;
      position:relative;
      z-index:3;
    }
    .target strong{ color:rgba(200,163,90,.98); font-weight:600; }

    .field{
      margin-bottom:14px;
      text-align:left;
      position:relative;
      z-index:3;
    }
    label{
      font-size:12px;
      letter-spacing:.12em;
      text-transform:uppercase;
      color: rgba(34,34,42,.62);
      padding-left:8px;
      display:block;
      margin-bottom:7px;
    }
    input{
      width:100%;
      padding:13px 14px;
      border-radius:16px;
      border:1px solid rgba(200,163,90,.26);
      background: rgba(255,255,255,.72);
      font-family:"Cormorant Garamond", serif;
      font-size:18px;
      outline:none;
      transition: .2s ease;
      box-shadow: 0 12px 26px rgba(20,16,28,.07);
    }
    input:focus{
      border-color: rgba(61,107,85,.28);
      box-shadow: 0 0 0 4px rgba(61,107,85,.10), 0 16px 34px rgba(20,16,28,.10);
    }

    button{
      width:100%;
      margin-top:12px;
      padding:15px 16px;
      border:none;
      border-radius:999px;
      font-family:"Fraunces", serif;
      font-weight:600;
      letter-spacing:.06em;
      background:
        radial-gradient(240px 140px at 30% 25%, rgba(255,255,255,.60), transparent 60%),
        linear-gradient(180deg, var(--gold2), var(--gold));
      color:#1f1f26;
      cursor:pointer;
      box-shadow: 0 18px 42px rgba(20,16,28,.18);
      transition: transform .18s ease, filter .18s ease;
      position:relative;
      z-index:3;
    }
    button:hover{ transform: translateY(-1px); filter: brightness(1.03); }
    button:active{ transform: translateY(0px) scale(.99); }

    #overlay{
      position:fixed;
      inset:0;
      display:none;
      align-items:center;
      justify-content:center;
      background:rgba(10,14,20,.62);
      backdrop-filter:blur(12px);
      padding: 20px;
      z-index:10;
    }

    .reveal{
      background: linear-gradient(180deg, rgba(255,255,255,.92), rgba(255,255,255,.82));
      padding:48px 44px;
      border-radius:30px;
      text-align:center;
      width:min(720px,92vw);
      box-shadow:0 40px 90px rgba(0,0,0,.38);
      position:relative;
      overflow:hidden;
    }
    .reveal::before{
      content:"";
      position:absolute;
      inset:-2px;
      pointer-events:none;
      background:
        radial-gradient(520px 300px at 22% 20%, rgba(61,107,85,.10), transparent 60%),
        radial-gradient(520px 300px at 80% 26%, rgba(200,163,90,.12), transparent 62%);
      opacity:.85;
    }
    .reveal h2{
      font-family:"Parisienne", cursive;
      font-size:58px;
      color:rgba(200,163,90,.98);
      margin:10px 0 6px;
      position:relative;
      z-index:1;
      text-shadow: 0 10px 30px rgba(200,163,90,.18);
    }
    .reveal p, .reveal h1, .reveal button{ position:relative; z-index:1; }

    @media (max-width: 420px){
      .manuscript{ padding:48px 22px 38px; }
      .pcorner{ width:78px; height:78px; }
      .pcorner::after{ font-size:36px; }
      .pcorner .centerSuit{ font-size:26px; }
      .val{ font-size: clamp(64px, 12vw, 86px); }
    }
  </style>
</head>

<body>
  <div id="heartBalloons" aria-hidden="true"></div>

  <div class="manuscript">
    <div class="frame"></div>

    <!-- Alice-ish mini playing-card corners -->
    <div class="pcorner p1" style="--wm:'♥';">
      <div class="rank" style="color:var(--red)"><div>A</div><div class="suit">♥</div></div>
      <div class="centerSuit" style="color:var(--red)">♥</div>
    </div>
    <div class="pcorner p2" style="--wm:'♠';">
      <div class="rank" style="color:var(--black)"><div>A</div><div class="suit">♠</div></div>
      <div class="centerSuit" style="color:var(--black)">♠</div>
    </div>
    <div class="pcorner p3" style="--wm:'♦';">
      <div class="rank" style="color:var(--red)"><div>A</div><div class="suit">♦</div></div>
      <div class="centerSuit" style="color:var(--red)">♦</div>
    </div>
    <div class="pcorner p4" style="--wm:'♣';">
      <div class="rank" style="color:var(--black)"><div>A</div><div class="suit">♣</div></div>
      <div class="centerSuit" style="color:var(--black)">♣</div>
    </div>

    <div class="welcome">
      <span class="line"></span>
      <div class="text"><strong>ISA Chulalongkorn</strong></div>
      <span class="line"></span>
    </div>

    <h1>Heart to Heart</h1>
    <div class="divider"></div>

    <div class="label">Your Number</div>
    <div class="val" id="my-num">--</div>

    <div class="target">
      Find a companion whose number brings yours to <strong id="target-num">110</strong>
    </div>

    <div class="field">
      <label for="partner-val">Your Companion’s Number</label>
      <input type="number" id="partner-val" placeholder="Enter number" />
    </div>

    <div class="field">
      <label for="host-key">The Key</label>
      <input type="password" id="host-key" placeholder="Enter key" autocomplete="off" />
    </div>

    <button type="button" onclick="attemptBond()">Join Heart</button>
  </div>

  <div id="overlay">
    <div class="reveal">
      <h1>Bloomed</h1>
      <div class="divider"></div>
      <p>Your hearts meet in harmony</p>
      <h2 id="team-name">The Golden Garden</h2>
      <button type="button" onclick="location.reload()">Return</button>
    </div>
  </div>

  <script>
    const SECRET_KEY = "heart to heart";
    const targets = [100, 110, 120];
    const teamNames = [
      "The Rose Conservatory",
      "The Lavender Gallery",
      "The Golden Trellis",
      "The Ivory Pavilion"
    ];

    const myValue = Math.floor(Math.random() * 60) + 20;
    const myTarget = targets[Math.floor(Math.random() * targets.length)];

    document.getElementById("my-num").innerText = myValue;
    document.getElementById("target-num").innerText = myTarget;

    function attemptBond(){
      const partnerVal = parseInt(document.getElementById("partner-val").value, 10);
      const userKey = (document.getElementById("host-key").value || "").toLowerCase().trim();
      const sum = myValue + partnerVal;

      if(Number.isNaN(partnerVal)){
        alert("Please enter your companion’s number first.");
        return;
      }

      if(sum === myTarget && userKey === SECRET_KEY){
        document.getElementById("team-name").innerText =
          teamNames[Math.floor(Math.random()*teamNames.length)];
        document.getElementById("overlay").style.display="flex";
      }else if(sum === myTarget){
        alert("Your numbers align beautifully. Please enter the key to join heart.");
      }else{
        alert("Not quite yet — keep searching for the perfect companion.");
      }
    }

    /* =========================
       Heart Balloon engine
       ========================= */
    const heartBalloonsLayer = document.getElementById("heartBalloons");
    function rand(min, max){ return Math.random() * (max - min) + min; }

    function spawnHeartBalloon(){
      const wrap = document.createElement("div");
      wrap.className = "heartBalloon";

      const hb = document.createElement("div");
      hb.className = "hb";

      const knot = document.createElement("div");
      knot.className = "knot";
      const string = document.createElement("div");
      string.className = "string";

      wrap.appendChild(hb);
      wrap.appendChild(knot);
      wrap.appendChild(string);

      const vw = window.innerWidth;
      const vh = window.innerHeight;

      const startX = rand(0.06, 0.94) * vw;
      const startY = vh + rand(40, 120);

      const drift = rand(-120, 120);
      const dur = rand(5.8, 9.0);
      const scale = rand(0.85, 1.95);
      const r0 = rand(-12, -4);
      const r1 = rand(6, 16);

      const colors = [
        "rgba(243,223,179,.92)",  // gold cream
        "rgba(244,217,227,.92)",  // blush
        "rgba(219,233,255,.92)",  // sky
        "rgba(223,240,232,.92)",  // sage
        "rgba(200,163,90,.88)"    // deeper gold
      ];
      hb.style.setProperty("--c", colors[Math.floor(Math.random()*colors.length)]);

      wrap.style.left = startX + "px";
      wrap.style.top  = startY + "px";

      wrap.style.setProperty("--x", "0px");
      wrap.style.setProperty("--y0", "0px");
      wrap.style.setProperty("--y1", (-rand(360, 620)) + "px");
      wrap.style.setProperty("--drift", drift + "px");
      wrap.style.setProperty("--dur", dur + "s");
      wrap.style.setProperty("--s", scale);
      wrap.style.setProperty("--r0", r0 + "deg");
      wrap.style.setProperty("--r1", r1 + "deg");

      heartBalloonsLayer.appendChild(wrap);
      wrap.addEventListener("animationend", () => wrap.remove());
    }

    let heartBalloonTimer = null;

    function startHeartBalloons(){
      if (window.matchMedia("(prefers-reduced-motion: reduce)").matches) return;
      if (heartBalloonTimer) return;

      for(let i=0;i<7;i++){
        setTimeout(spawnHeartBalloon, i * 180);
      }

      heartBalloonTimer = setInterval(() => {
        spawnHeartBalloon();
        if (Math.random() < 0.32) spawnHeartBalloon();
      }, 780);
    }

    startHeartBalloons();
    window.addEventListener("visibilitychange", () => {
      if (document.hidden){
        clearInterval(heartBalloonTimer);
        heartBalloonTimer = null;
      } else {
        startHeartBalloons();
      }
    });
  </script>
</body>
</html>
