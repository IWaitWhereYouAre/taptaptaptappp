<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Heart to Heart | ISA Chulalongkorn</title>

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,500;0,600;1,400;1,600&family=Fraunces:opsz,wght@9..144,400;9..144,600&family=Parisienne&display=swap');

    :root{
      --ink:#22222a;

      --blush:#f4d9e3;
      --sky:#dbe9ff;
      --sage:#dff0e8;

      --gold:#c8a35a;
      --gold2:#f3dfb3;

      --shadow: 0 28px 70px rgba(22, 18, 30, .22);
      --hairline: rgba(200,163,90,.58);

      --red:#b01d2a;
      --black:#1d2026;

      --leaf:#2f5b46;
      --leaf2:#3f7a5d;
    }

    *{ box-sizing:border-box; }
    html,body{ width:100%; height:100%; margin:0; }

    body{
      display:flex;
      align-items:center;
      justify-content:center;
      font-family:"Cormorant Garamond", serif;
      color:var(--ink);
      background:
        radial-gradient(900px 650px at 18% 12%, rgba(219,233,255,.95) 0%, rgba(219,233,255,0) 60%),
        radial-gradient(900px 650px at 82% 18%, rgba(244,217,227,.85) 0%, rgba(244,217,227,0) 62%),
        radial-gradient(900px 650px at 50% 92%, rgba(223,240,232,.88) 0%, rgba(223,240,232,0) 60%),
        linear-gradient(180deg, #fffaf1 0%, #f3ecdf 100%);
      overflow:hidden;
      position:relative;
    }

    /* dreamy dust */
    body::before{
      content:"";
      position:fixed;
      inset:-30%;
      pointer-events:none;
      background:
             opacity:.55;
      filter: blur(.2px);
      transform: rotate(-7deg);
      mix-blend-mode: screen;
    }

    /* garden edge glow (vines without images) */
    body::after{
      content:"";
      position:fixed;
      inset:0;
      pointer-events:none;
      background:
        radial-gradient(340px 240px at 0% 0%, rgba(63,122,93,.18), transparent 68%),
        radial-gradient(340px 240px at 100% 0%, rgba(63,122,93,.14), transparent 68%),
        radial-gradient(340px 240px at 0% 100%, rgba(63,122,93,.14), transparent 68%),
        radial-gradient(340px 240px at 100% 100%, rgba(63,122,93,.18), transparent 68%),
        radial-gradient(900px 540px at 50% 40%, transparent 56%, rgba(0,0,0,.08) 100%);
      opacity:.78;
      mix-blend-mode:multiply;
    }

    /* =========================
       SECRET GARDEN FX LAYER
       ========================= */
  
    @media (prefers-reduced-motion: reduce){
      #gardenFX{ display:none; }
    }

    /* =========================
       CARD (paper)
       ========================= */
    .manuscript{
      width:min(590px, 92vw);
      padding:54px 40px 44px;
      background: linear-gradient(180deg, rgba(255,255,255,.88), rgba(255,255,255,.78));
      border-radius:30px;
      box-shadow: var(--shadow);
      position:relative;
      text-align:center;
      overflow:hidden;
      backdrop-filter: blur(10px);
      z-index:1;
      transform: translateZ(0);
    }

    .content{
      position:relative;
      z-index:3;
      padding: 0 26px 0;
    }

    .manuscript::before{
      content:"";
      position:absolute;
      inset:-2px;
      pointer-events:none;
      background:
        radial-gradient(520px 300px at 18% 16%, rgba(63,122,93,.10), transparent 60%),
        radial-gradient(520px 300px at 82% 22%, rgba(200,163,90,.12), transparent 62%),
        repeating-linear-gradient(0deg, rgba(34,34,42,.014) 0px, rgba(34,34,42,.014) 1px, transparent 2px, transparent 7px);
      opacity:.86;
      mix-blend-mode:multiply;
    }

    .frame{
      position:absolute;
      inset:16px;
      border-radius:24px;
      border:1px solid rgba(200,163,90,.55);
      pointer-events:none;
      z-index:1;
    }
    .frame::after{
      content:"";
      position:absolute;
      inset:10px;
      border-radius:20px;
      border:1px solid rgba(35,66,55,.14);
    }

    /* corners */
    .pcorner{
      position:absolute;
      width:86px; height:86px;
      border-radius:18px;
      background: linear-gradient(180deg, rgba(255,255,255,.94), rgba(255,255,255,.72));
      border:1px solid rgba(0,0,0,.08);
      box-shadow: 0 14px 28px rgba(20,16,28,.12), inset 0 0 0 1px rgba(255,255,255,.65);
      pointer-events:none;
      z-index:5;
      overflow:hidden;
      transform: rotate(var(--rot, -4deg));
    }
    .pcorner::before{
      content:"";
      position:absolute;
      inset:10px;
      border-radius:14px;
      border:1px solid rgba(200,163,90,.30);
    }
    .pcorner::after{
      content: var(--wm, "♥");
      position:absolute;
      inset:0;
      display:grid;
      place-items:center;
      font-size:40px;
      opacity:.10;
      color: rgba(0,0,0,.55);
      transform: rotate(12deg);
    }
    .pcorner .rank{
      position:absolute;
      top:12px; left:12px;
      display:flex;
      flex-direction:column;
      gap:2px;
      font-family:"Fraunces", serif;
      font-weight:600;
      font-size:14px;
      line-height:1;
    }
    .pcorner .centerSuit{
      position:absolute;
      inset:0;
      display:grid;
      place-items:center;
      font-size:28px;
      text-shadow: 0 1px 0 rgba(255,255,255,.6);
    }
    .p1{ top:10px; left:10px; --rot:-6deg; }
    .p2{ top:10px; right:10px; --rot:6deg; }
    .p3{ bottom:10px; left:10px; --rot:6deg; }
    .p4{ bottom:10px; right:10px; --rot:-6deg; }

    /* text / inputs / button (same as yours) */
    .welcome{
      display:flex;
      align-items:center;
      justify-content:center;
      gap:12px;
      margin-bottom:16px;
    }
    .welcome .line{
      height:1px;
      width: clamp(36px, 12vw, 92px);
      background:linear-gradient(90deg, transparent, rgba(200,163,90,.95), transparent);
      opacity:.95;
    }
    .welcome .text{
      font-style:italic;
      font-size:16px;
      color: rgba(34,34,42,.70);
      line-height:1.25;
      padding: 3px 12px;
      border-radius: 999px;
      background: rgba(255,255,255,.44);
      border: 1px solid rgba(200,163,90,.20);
      backdrop-filter: blur(6px);
    }
    .welcome .text strong{
      font-family:"Fraunces", serif;
      font-weight:600;
      letter-spacing:.08em;
      color:rgba(200,163,90,.95);
      font-style:normal;
    }

    h1{
      font-family:"Fraunces", serif;
      font-weight:600;
      margin:0;
      color: rgba(34,34,42,.92);
      font-size: clamp(28px, 5.4vw, 38px);
    }

    .divider{
      height:1px;
      width:72%;
      margin:18px auto;
      background:linear-gradient(90deg, transparent, rgba(200,163,90,.98), transparent);
    }

    .label{
      font-style:italic;
      margin-top:6px;
      font-size:18px;
      color: rgba(35,66,55,.84);
    }

    .val{
      font-family:"Fraunces", serif;
      font-size: clamp(68px, 10.5vw, 92px);
      font-weight:600;
      background:linear-gradient(180deg, var(--gold2), var(--gold));
      -webkit-background-clip:text;
      background-clip:text;
      color:transparent;
      margin:10px 0 6px;
      text-shadow: 0 10px 30px rgba(200,163,90,.14);
    }

    .target{
      margin: 10px auto 22px;
      font-size:16px;
      color: rgba(34,34,42,.74);
      max-width: 46ch;
      line-height:1.4;
    }
    .target strong{ color:rgba(200,163,90,.98); font-weight:600; }

    .field{
      margin-bottom:14px;
      text-align:left;
    }
    label{
      font-size:12px;
      letter-spacing:.12em;
      text-transform:uppercase;
      color: rgba(34,34,42,.62);
      padding-left:8px;
      display:block;
      margin-bottom:7px;
    }
    input{
      width:100%;
      padding:13px 14px;
      border-radius:16px;
      border:1px solid rgba(200,163,90,.26);
      background: rgba(255,255,255,.72);
      font-family:"Cormorant Garamond", serif;
      font-size:18px;
      outline:none;
      transition: .2s ease;
      box-shadow: 0 12px 26px rgba(20,16,28,.07);
    }
    input:focus{
      border-color: rgba(61,107,85,.28);
      box-shadow: 0 0 0 4px rgba(61,107,85,.10), 0 16px 34px rgba(20,16,28,.10);
    }

    button{
      width:min(360px, 100%);
      margin:14px auto 0;
      display:block;
      padding:15px 16px;
      border:none;
      border-radius:999px;
      font-family:"Fraunces", serif;
      font-weight:600;
      letter-spacing:.06em;
      background:
        radial-gradient(240px 140px at 30% 25%, rgba(255,255,255,.60), transparent 60%),
        linear-gradient(180deg, var(--gold2), var(--gold));
      color:#1f1f26;
      cursor:pointer;
      box-shadow: 0 18px 42px rgba(20,16,28,.18);
      transition: transform .18s ease, filter .18s ease;
      position:relative;
      z-index:3;
    }
    button:hover{ transform: translateY(-1px); filter: brightness(1.03); }
    button:active{ transform: translateY(0px) scale(.99); }

    #overlay{
      position:fixed;
      inset:0;
      display:none;
      align-items:center;
      justify-content:center;
      background:rgba(10,14,20,.62);
      backdrop-filter:blur(12px);
      padding: 20px;
      z-index:10;
    }

    .reveal{
      background: linear-gradient(180deg, rgba(255,255,255,.92), rgba(255,255,255,.82));
      padding:48px 44px;
      border-radius:30px;
      text-align:center;
      width:min(720px,92vw);
      box-shadow:0 40px 90px rgba(0,0,0,.38);
      position:relative;
      overflow:hidden;
    }
    .reveal h2{
      font-family:"Parisienne", cursive;
      font-size:58px;
      color:rgba(200,163,90,.98);
      margin:10px 0 6px;
      position:relative;
      z-index:1;
      text-shadow: 0 10px 30px rgba(200,163,90,.18);
    }

    @media (max-width: 420px){
      .manuscript{ padding:48px 22px 38px; }
      .pcorner{ width:78px; height:78px; }
      .pcorner::after{ font-size:36px; }
      .pcorner .centerSuit{ font-size:26px; }
      .val{ font-size: clamp(64px, 12vw, 86px); }
    }
  </style>
</head>

<body>

  <div class="manuscript">
    <div class="frame"></div>

    <div class="pcorner p1" style="--wm:'♥';">
      <div class="rank" style="color:var(--red)"><div>A</div><div class="suit">♥</div></div>
      <div class="centerSuit" style="color:var(--red)">♥</div>
    </div>
    <div class="pcorner p2" style="--wm:'♠';">
      <div class="rank" style="color:var(--black)"><div>A</div><div class="suit">♠</div></div>
      <div class="centerSuit" style="color:var(--black)">♠</div>
    </div>
    <div class="pcorner p3" style="--wm:'♦';">
      <div class="rank" style="color:var(--red)"><div>A</div><div class="suit">♦</div></div>
      <div class="centerSuit" style="color:var(--red)">♦</div>
    </div>
    <div class="pcorner p4" style="--wm:'♣';">
      <div class="rank" style="color:var(--black)"><div>A</div><div class="suit">♣</div></div>
      <div class="centerSuit" style="color:var(--black)">♣</div>
    </div>

    <div class="content">
      <div class="welcome">
        <span class="line"></span>
        <div class="text"><strong>ISA Chulalongkorn</strong></div>
        <span class="line"></span>
      </div>

      <h1>Heart to Heart</h1>
      <div class="divider"></div>

      <div class="label">Your Number</div>
      <div class="val" id="my-num">--</div>

      <div class="target">
        Find a companion whose number brings yours to <strong id="target-num">110</strong>
      </div>

      <div class="field">
        <label for="partner-val">Your Companion’s Number</label>
        <input type="number" id="partner-val" placeholder="Enter number" />
      </div>

      <div class="field">
        <label for="host-key">The Key</label>
        <input type="password" id="host-key" placeholder="Enter key" autocomplete="off" />
      </div>

      <button type="button" onclick="attemptBond()">Join Hearts</button>
    </div>
  </div>

<div id="overlay">
  <div class="reveal">
    <h1 class="bloom-text">Bloomed</h1>
    
    <div class="divider">✧</div>

    <button type="button" class="return-btn" onclick="location.reload()">
      Leave the Garden
    </button>
  </div>
</div>

  <script>
    const SECRET_KEY = "heart to heart";
    const targets = [100, 110, 120];
    const teamNames = [
      "The Rose Conservatory",
      "The Lavender Gallery",
      "The Golden Trellis",
      "The Ivory Pavilion"
    ];

    const myValue = Math.floor(Math.random() * 60) + 20;
    const myTarget = targets[Math.floor(Math.random() * targets.length)];

    document.getElementById("my-num").innerText = myValue;
    document.getElementById("target-num").innerText = myTarget;

    function attemptBond(){
      const partnerVal = parseInt(document.getElementById("partner-val").value, 10);
      const userKey = (document.getElementById("host-key").value || "").toLowerCase().trim();
      const sum = myValue + partnerVal;

      if(Number.isNaN(partnerVal)){
        alert("Please enter your companion’s number first.");
        return;
      }

      if(sum === myTarget && userKey === SECRET_KEY){
        document.getElementById("team-name").innerText =
          teamNames[Math.floor(Math.random()*teamNames.length)];
        document.getElementById("overlay").style.display="flex";
      }else if(sum === myTarget){
        alert("Your numbers align beautifully. Please enter the key to join heart.");
      }else{
        alert("Not quite yet — keep searching for the perfect companion.");
      }
    }

    /* =========================
       Secret Garden FX: petals + fireflies
       ========================= */
    const fx = document.getElementById("gardenFX");
    const prefersReduced = window.matchMedia("(prefers-reduced-motion: reduce)").matches;

    function rand(min, max){ return Math.random() * (max - min) + min; }

    function spawnPetal(){
      const el = document.createElement("div");
      el.className = "petal";

      const vw = window.innerWidth;
      const x = rand(-40, vw + 40);
      const dur = rand(6.8, 10.8);
      const scale = rand(0.75, 1.6);
      const r0 = rand(-40, 40);
      const r1 = r0 + rand(160, 360);
      const drift = rand(-180, 180);

      const colors = [
        "rgba(244,217,227,.88)", // blush petal
        "rgba(243,223,179,.82)", // champagne
        "rgba(223,240,232,.86)", // sage
        "rgba(219,233,255,.82)"  // sky
      ];
      el.style.setProperty("--c", colors[Math.floor(Math.random()*colors.length)]);

      el.style.left = x + "px";
      el.style.top  = rand(-60, -10) + "px";

      el.style.setProperty("--x", "0px");
      el.style.setProperty("--y0", "0px");
      el.style.setProperty("--y1", "0px");
      el.style.setProperty("--drift", drift + "px");
      el.style.setProperty("--dur", dur + "s");
      el.style.setProperty("--s", scale);
      el.style.setProperty("--r0", r0 + "deg");
      el.style.setProperty("--r1", r1 + "deg");

      // slight size variety
      const w = rand(14, 22);
      const h = w * rand(1.25, 1.55);
      el.style.width = w + "px";
      el.style.height = h + "px";

      fx.appendChild(el);
      el.addEventListener("animationend", () => el.remove());
    }

    function spawnSpark(){
      const el = document.createElement("div");
      el.className = "spark";

      const vw = window.innerWidth;
      const vh = window.innerHeight;

      const x = rand(0.08, 0.92) * vw;
      const y = rand(0.10, 0.86) * vh;

      el.style.left = x + "px";
      el.style.top  = y + "px";

      el.style.setProperty("--sx", "0px");
      el.style.setProperty("--sy", "0px");
      el.style.setProperty("--sdx", rand(-40, 40) + "px");
      el.style.setProperty("--sdy", rand(-50, 30) + "px");
      el.style.setProperty("--tdur", rand(2.8, 4.6) + "s");

      // tiny size variation
      const size = rand(4, 7);
      el.style.width = size + "px";
      el.style.height = size + "px";

      fx.appendChild(el);
      el.addEventListener("animationend", () => el.remove());
    }

    let petalTimer = null;
    let sparkTimer = null;

    function startGardenFX(){
      if (prefersReduced) return;
      if (petalTimer || sparkTimer) return;

      // gentle start burst
      for(let i=0;i<10;i++) setTimeout(spawnPetal, i*120);
      for(let i=0;i<12;i++) setTimeout(spawnSpark, i*140);

      // steady ambience
      petalTimer = setInterval(() => {
        spawnPetal();
        if (Math.random() < 0.35) spawnPetal();
      }, 520);

      sparkTimer = setInterval(() => {
        spawnSpark();
        if (Math.random() < 0.55) spawnSpark();
      }, 420);
    }

    startGardenFX();
    window.addEventListener("visibilitychange", () => {
      if (document.hidden){
        clearInterval(petalTimer); clearInterval(sparkTimer);
        petalTimer = null; sparkTimer = null;
      } else {
        startGardenFX();
      }
    });
  </script>
</body>
</html>

